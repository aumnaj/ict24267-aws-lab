# ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£ (LAB Manual)
# ‡∏ß‡∏¥‡∏ä‡∏≤ ICT 24267 Cloud Computing
## ‡∏†‡∏≤‡∏Ñ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ 2/2568

---

| ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î | ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• |
|---|---|
| **‡∏£‡∏´‡∏±‡∏™‡∏ß‡∏¥‡∏ä‡∏≤** | ICT 24267 |
| **‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ä‡∏≤** | Cloud Computing |
| **‡∏ú‡∏π‡πâ‡∏™‡∏≠‡∏ô** | ‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏≠‡∏≥‡∏ô‡∏≤‡∏à ‡∏Ñ‡∏á‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡∏ñ‡∏¥‡πà‡∏ô |
| **‡∏†‡∏≤‡∏Ñ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤** | 2/2568 |
| **‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°** | Amazon Web Services (AWS) Free Tier |
| **‡∏†‡∏≤‡∏©‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°** | Python 3.x (‡∏´‡∏•‡∏±‡∏Å) |

---

## üìë ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç

### ‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏≥
- [üìã ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠ LAB](#-‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠-lab)
- [üÜì AWS Free Tier ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ (2026)](#-aws-free-tier-‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ-2026)
- [‚öôÔ∏è ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏° LAB](#Ô∏è-‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°-lab)

---

### üìÖ Week 1 ‚Äî EC2 Advanced: Web Server & Python Flask Application
- [‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ](#-week-1-ec2-advanced--web-server--python-flask-application)
- [LAB 1-1: ‡∏™‡∏£‡πâ‡∏≤‡∏á EC2 Instance ‡∏û‡∏£‡πâ‡∏≠‡∏° User Data](#-lab-1-1-‡∏™‡∏£‡πâ‡∏≤‡∏á-ec2-instance-‡∏û‡∏£‡πâ‡∏≠‡∏°-user-data)
  - ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á Key Pair
  - ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á Security Group
  - ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: Launch EC2 Instance ‡∏û‡∏£‡πâ‡∏≠‡∏° User Data Script
  - ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ú‡πà‡∏≤‡∏ô SSH
  - ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 5: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö API
- [LAB 1-2: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Nginx ‡πÄ‡∏õ‡πá‡∏ô Reverse Proxy](#-lab-1-2-‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á-nginx-‡πÄ‡∏õ‡πá‡∏ô-reverse-proxy)
- [LAB 1-3: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Elastic IP](#-lab-1-3-‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£-elastic-ip)
- [üìù ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î Week 1](#-‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î-week-1)
  - ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏û‡∏¥‡πà‡∏° Endpoint ‡πÉ‡∏´‡∏°‡πà (PUT / DELETE)
  - ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ó‡∏µ‡πà 2: Monitoring ‡∏î‡πâ‡∏ß‡∏¢ CloudWatch
  - ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏¢‡∏ö‡∏ó (5 ‡∏Ç‡πâ‡∏≠)

---

### üìÖ Week 2 ‚Äî RDS: Relational Database Service
- [‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ](#-week-2-rds--relational-database-service)
- [LAB 2-1: ‡∏™‡∏£‡πâ‡∏≤‡∏á RDS MySQL Instance](#-lab-2-1-‡∏™‡∏£‡πâ‡∏≤‡∏á-rds-mysql-instance)
  - ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á Security Group ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö RDS
  - ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á RDS Instance
  - ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Endpoint
- [LAB 2-2: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á MySQL Client ‡πÅ‡∏•‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠](#-lab-2-2-‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á-mysql-client-‡πÅ‡∏•‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠)
  - ‡∏™‡∏£‡πâ‡∏≤‡∏á Database, Tables ‡πÅ‡∏•‡∏∞ Insert ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á
- [LAB 2-3: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Flask App ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ RDS](#-lab-2-3-‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï-flask-app-‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ-rds)
  - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env` ‡πÅ‡∏•‡∏∞ `database.py`
  - ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï `app.py` ‡πÉ‡∏´‡πâ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö CRUD ‡πÄ‡∏ï‡πá‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö
  - Endpoints: Students, Courses, Statistics
- [üìù ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î Week 2](#-‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î-week-2)
  - ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ó‡∏µ‡πà 1: Enrollment System
  - ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ó‡∏µ‡πà 2: RDS Snapshot
  - ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏¢‡∏ö‡∏ó (5 ‡∏Ç‡πâ‡∏≠)

---

### üìÖ Week 3 ‚Äî Lambda & API Gateway: Serverless API
- [‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ](#-week-3-lambda--api-gateway--serverless-api)
- [LAB 3-1: ‡∏™‡∏£‡πâ‡∏≤‡∏á IAM Role ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Lambda](#-lab-3-1-‡∏™‡∏£‡πâ‡∏≤‡∏á-iam-role-‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö-lambda)
- [LAB 3-2: ‡∏™‡∏£‡πâ‡∏≤‡∏á Lambda Layer ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö PyMySQL](#-lab-3-2-‡∏™‡∏£‡πâ‡∏≤‡∏á-lambda-layer-‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö-pymysql)
- [LAB 3-3: ‡∏™‡∏£‡πâ‡∏≤‡∏á Lambda Functions](#-lab-3-3-‡∏™‡∏£‡πâ‡∏≤‡∏á-lambda-functions)
  - Function 1: `ict24267-get-students` (GET)
  - Function 2: `ict24267-manage-students` (POST / PUT / DELETE)
- [LAB 3-4: ‡∏™‡∏£‡πâ‡∏≤‡∏á API Gateway](#-lab-3-4-‡∏™‡∏£‡πâ‡∏≤‡∏á-api-gateway)
  - ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á REST API
  - ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á Resources ‡πÅ‡∏•‡∏∞ Methods
  - ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: Deploy API
  - ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö API ‡∏î‡πâ‡∏ß‡∏¢ curl
- [LAB 3-5: Lambda ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô Scheduled (EventBridge)](#-lab-3-5-lambda-‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô-scheduled-cloudwatch-events)
  - Function: `lambda_daily_report.py`
  - ‡∏ï‡∏±‡πâ‡∏á Schedule ‡∏î‡πâ‡∏ß‡∏¢ EventBridge
- [üìù ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î Week 3](#-‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î-week-3)
  - ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏û‡∏¥‡πà‡∏° Lambda Function ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤
  - ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ó‡∏µ‡πà 2: API Gateway Throttling
  - ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏¢‡∏ö‡∏ó (5 ‡∏Ç‡πâ‡∏≠)

---

### üìÖ Week 4 ‚Äî Integration, Security & Monitoring
- [‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ](#-week-4-integration-security--monitoring)
- [LAB 4-1: Secrets Manager / SSM Parameter Store](#-lab-4-1-secrets-manager-‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö-database-credentials)
  - ‡∏™‡∏£‡πâ‡∏≤‡∏á SecureString Parameters ‡∏î‡πâ‡∏ß‡∏¢ AWS CLI
  - ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Lambda ‡πÉ‡∏´‡πâ‡∏î‡∏∂‡∏á Credentials ‡∏à‡∏≤‡∏Å SSM
- [LAB 4-2: CloudWatch Dashboard ‡πÅ‡∏•‡∏∞ Alarms](#-lab-4-2-cloudwatch-dashboard-‡πÅ‡∏•‡∏∞-alarms)
  - Dashboard: EC2 CPU, Lambda Invocations, API Gateway, RDS Connections
  - Alarms: High CPU Alert, Lambda Error Alert
- [LAB 4-3: ‡∏™‡∏£‡πâ‡∏≤‡∏á Frontend HTML ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Student System](#-lab-4-3-‡∏™‡∏£‡πâ‡∏≤‡∏á-frontend-html-‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö-student-system)
  - HTML + JavaScript Frontend ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ API Gateway
  - ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Nginx ‡πÉ‡∏´‡πâ Serve Frontend
- [LAB 4-4: Architecture Diagram ‡πÅ‡∏•‡∏∞ Cost Estimation](#-lab-4-4-architecture-diagram-‡πÅ‡∏•‡∏∞-cost-estimation)
  - ‡∏™‡∏£‡∏∏‡∏õ Architecture ‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö
  - ‡∏ï‡∏≤‡∏£‡∏≤‡∏á Free Tier Cost Estimation
- [LAB 4-5: Cleanup ‚Äî ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î LAB](#-lab-4-5-cleanup--‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î-lab)
- [üìù ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î Week 4](#-‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î-week-4)
  - ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏û‡∏¥‡πà‡∏° API Key Authentication
  - ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ó‡∏µ‡πà 2: CloudWatch Logs Insights
  - ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏¢‡∏ö‡∏ó (5 ‡∏Ç‡πâ‡∏≠)
    
---

### üìö ‡∏†‡∏≤‡∏Ñ‡∏ú‡∏ô‡∏ß‡∏Å
- [A. ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á AWS CLI ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢](#a-‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á-aws-cli-‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢)
- [B. Free Tier Checklist](#b-‡∏™‡∏£‡∏∏‡∏õ-free-tier-checklist)
- [C. Resources ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°](#c-resources-‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°)

---

## üìã ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠ LAB

‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÄ‡∏õ‡πá‡∏ô **‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á 4 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå** ‡πÇ‡∏î‡∏¢‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á **‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ (Student Record System)** ‡∏ö‡∏ô AWS Cloud ‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£ ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà EC2, RDS, Lambda ‡πÅ‡∏•‡∏∞ API Gateway

```
‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏´‡∏•‡∏±‡∏Å: Student Record System on AWS
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Week 1 ‚îÇ EC2 Advanced  ‚îÇ Web Server + Python Flask App
Week 2 ‚îÇ RDS           ‚îÇ MySQL Database + ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ EC2
Week 3 ‚îÇ Lambda + API  ‚îÇ Serverless API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö CRUD
Week 4 ‚îÇ Integration   ‚îÇ ‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å‡∏™‡πà‡∏ß‡∏ô + Security + Monitoring
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
```

> ‚ö†Ô∏è **‡∏Ç‡πâ‡∏≠‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç**: LAB ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ **AWS Free Tier** ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ ‡πÇ‡∏õ‡∏£‡∏î‡∏≠‡πà‡∏≤‡∏ô‡∏™‡πà‡∏ß‡∏ô "‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á Free Tier" ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞ LAB ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

---

## üÜì AWS Free Tier ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ (2026)

| ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ | Free Tier Limit | ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ |
|---|---|---|
| **EC2** | t2.micro ‡∏´‡∏£‡∏∑‡∏≠ t3.micro, 750 ‡∏ä‡∏°./‡πÄ‡∏î‡∏∑‡∏≠‡∏ô | 12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏£‡∏Å |
| **RDS** | db.t3.micro, 750 ‡∏ä‡∏°./‡πÄ‡∏î‡∏∑‡∏≠‡∏ô, 20 GB storage | 12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏£‡∏Å |
| **Lambda** | 1,000,000 requests/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô, 400,000 GB-sec | ‡∏ï‡∏•‡∏≠‡∏î‡πÑ‡∏õ (Always Free) |
| **API Gateway** | 1,000,000 REST API calls/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô | 12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏£‡∏Å |
| **S3** | 5 GB storage, 20,000 GET, 2,000 PUT | 12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏£‡∏Å |
| **CloudWatch** | 10 metrics, 10 alarms, 1 million API requests | ‡∏ï‡∏•‡∏≠‡∏î‡πÑ‡∏õ (Always Free) |
| **IAM** | ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ | ‡∏ï‡∏•‡∏≠‡∏î‡πÑ‡∏õ |

---

## ‚öôÔ∏è ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏° LAB

### 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á AWS Account
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà https://aws.amazon.com/free/
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **"Create a Free Account"**
3. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Email, Password, Account Name
4. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **Personal Account**
5. ‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô ‚Äî ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡∏´‡∏≤‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏ô Free Tier)
6. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **Free Basic Support Plan**

### 2. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Billing Alert (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å!)
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **AWS Console ‚Üí Billing ‚Üí Budgets**
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **"Create Budget"** ‚Üí **"Use a template"**
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **"Zero spend budget"**
4. ‡πÉ‡∏™‡πà Email ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
5. ‡∏Ñ‡∏•‡∏¥‡∏Å **Create Budget**

> üí° **‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥**: ‡∏ï‡∏±‡πâ‡∏á Alert ‡∏ó‡∏µ‡πà $0.01 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô

### 3. ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á (Local)
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Python version (‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ 3.8+)
python --version

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á AWS CLI v2
# Windows: ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å https://awscli.amazonaws.com/AWSCLIV2.msi
# macOS:
brew install awscli

# Linux:
curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
unzip awscliv2.zip
sudo ./aws/install

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö AWS CLI
aws --version
```

### 4. Region ‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
‡πÉ‡∏ä‡πâ **ap-southeast-1 (Singapore)** ‡∏´‡∏£‡∏∑‡∏≠ **us-east-1 (N. Virginia)** ‡πÄ‡∏û‡∏∑‡πà‡∏≠ latency ‡∏ó‡∏µ‡πà‡∏î‡∏µ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏° Free Tier ‡∏Ñ‡∏£‡∏ö

---

---

# üìÖ WEEK 1: EC2 Advanced ‚Äî Web Server & Python Flask Application

## ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ
- ‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á EC2 Instance
- ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞ configure Python Flask Web Application ‡∏ö‡∏ô EC2
- ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à Security Groups, Key Pairs, ‡πÅ‡∏•‡∏∞ Elastic IP
- ‡πÉ‡∏ä‡πâ User Data Script ‡πÄ‡∏û‡∏∑‡πà‡∏≠ automate ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á

## ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤: 3 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á

---

## üîß LAB 1-1: ‡∏™‡∏£‡πâ‡∏≤‡∏á EC2 Instance ‡∏û‡∏£‡πâ‡∏≠‡∏° User Data

### ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á Free Tier
- ‚úÖ ‡πÉ‡∏ä‡πâ **t2.micro** ‡∏´‡∏£‡∏∑‡∏≠ **t3.micro** ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
- ‚úÖ **Amazon Linux 2023** ‡∏´‡∏£‡∏∑‡∏≠ **Ubuntu 22.04 LTS** (Free Tier eligible)
- ‚úÖ Storage: **8 GB gp2/gp3** (‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 30 GB ‡∏£‡∏ß‡∏°)
- ‚ùå **‡∏≠‡∏¢‡πà‡∏≤** ‡∏™‡∏£‡πâ‡∏≤‡∏á Instance ‡∏´‡∏•‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô (750 ‡∏ä‡∏°./‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å Instance)

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á Key Pair
1. AWS Console ‚Üí **EC2** ‚Üí **Key Pairs** ‚Üí **Create key pair**
2. Name: `ict24267-key`
3. Key pair type: **RSA**
4. Private key file format: **.pem** (macOS/Linux) ‡∏´‡∏£‡∏∑‡∏≠ **.ppk** (Windows + PuTTY)
5. ‡∏Ñ‡∏•‡∏¥‡∏Å **Create key pair** ‚Üí ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢

```bash
# macOS/Linux: ‡∏õ‡∏£‡∏±‡∏ö permission ‡∏Ç‡∏≠‡∏á key file
chmod 400 ~/Downloads/ict24267-key.pem
```

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á Security Group
1. EC2 ‚Üí **Security Groups** ‚Üí **Create security group**
2. Name: `ict24267-web-sg`
3. Description: `Security group for ICT24267 web server`
4. ‡πÄ‡∏û‡∏¥‡πà‡∏° **Inbound rules**:

| Type | Protocol | Port | Source | Purpose |
|---|---|---|---|---|
| SSH | TCP | 22 | 0.0.0.0/0 | Remote access |
| HTTP | TCP | 80 | 0.0.0.0/0 | Web access |
| Custom TCP | TCP | 5000 | 0.0.0.0/0 | Flask dev server |

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: Launch EC2 Instance ‡∏û‡∏£‡πâ‡∏≠‡∏° User Data Script
1. EC2 ‚Üí **Instances** ‚Üí **Launch instances**
2. Name: `ict24267-webserver`
3. AMI: **Amazon Linux 2023 AMI** (Free tier eligible)
4. Instance type: **t2.micro** ‚úÖ
5. Key pair: `ict24267-key`
6. Security group: `ict24267-web-sg`
7. Storage: **8 GiB gp3**
8. ‡πÄ‡∏õ‡∏¥‡∏î **Advanced details** ‚Üí **User data** ‚Üí ‡∏ß‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ:

```bash
#!/bin/bash
# User Data Script - ICT24267 Week 1
yum update -y
yum install -y python3 python3-pip git

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Flask ‡πÅ‡∏•‡∏∞ dependencies
pip3 install flask flask-cors boto3

# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå
mkdir -p /home/ec2-user/student-app
cd /home/ec2-user/student-app

# ‡∏™‡∏£‡πâ‡∏≤‡∏á Flask Application ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
cat > app.py << 'APPEOF'
from flask import Flask, jsonify, request
from datetime import datetime

app = Flask(__name__)

# In-memory storage (Week 1 - ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ Database)
students = [
    {"id": 1, "name": "‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ", "student_id": "6401001", "gpa": 3.5},
    {"id": 2, "name": "‡∏™‡∏°‡∏´‡∏ç‡∏¥‡∏á ‡∏£‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô", "student_id": "6401002", "gpa": 3.8},
]

@app.route('/')
def index():
    return jsonify({
        "message": "üéì Student Record System - Week 1",
        "course": "ICT 24267 Cloud Computing",
        "semester": "2/2568",
        "server_time": datetime.now().strftime("%Y-%m-%d %H:%M:%S"),
        "version": "1.0.0"
    })

@app.route('/students', methods=['GET'])
def get_students():
    return jsonify({
        "status": "success",
        "count": len(students),
        "data": students
    })

@app.route('/students/<int:student_id>', methods=['GET'])
def get_student(student_id):
    student = next((s for s in students if s["id"] == student_id), None)
    if student:
        return jsonify({"status": "success", "data": student})
    return jsonify({"status": "error", "message": "Student not found"}), 404

@app.route('/students', methods=['POST'])
def add_student():
    data = request.get_json()
    new_student = {
        "id": len(students) + 1,
        "name": data.get("name"),
        "student_id": data.get("student_id"),
        "gpa": data.get("gpa", 0.0)
    }
    students.append(new_student)
    return jsonify({"status": "success", "data": new_student}), 201

@app.route('/health')
def health():
    return jsonify({"status": "healthy", "timestamp": datetime.now().isoformat()})

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=5000, debug=True)
APPEOF

chown -R ec2-user:ec2-user /home/ec2-user/student-app

# ‡∏™‡∏£‡πâ‡∏≤‡∏á systemd service ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ app ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
cat > /etc/systemd/system/student-app.service << 'SVCEOF'
[Unit]
Description=Student Record System Flask App
After=network.target

[Service]
User=ec2-user
WorkingDirectory=/home/ec2-user/student-app
ExecStart=/usr/bin/python3 app.py
Restart=always
RestartSec=3

[Install]
WantedBy=multi-user.target
SVCEOF

systemctl daemon-reload
systemctl enable student-app
systemctl start student-app

echo "Setup complete!" >> /var/log/user-data.log
```

9. ‡∏Ñ‡∏•‡∏¥‡∏Å **Launch instance**

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ú‡πà‡∏≤‡∏ô SSH
```bash
# ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ EC2 Instance
ssh -i ~/Downloads/ict24267-key.pem ec2-user@<YOUR_PUBLIC_IP>

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ app
sudo systemctl status student-app

# ‡∏î‡∏π log
sudo journalctl -u student-app -f

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö User Data log
cat /var/log/user-data.log
```

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 5: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö API
```bash
# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏¢‡πÉ‡∏ô EC2
curl http://localhost:5000/
curl http://localhost:5000/students
curl http://localhost:5000/health

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å (‡πÉ‡∏ä‡πâ Public IP)
curl http://<YOUR_PUBLIC_IP>:5000/
curl http://<YOUR_PUBLIC_IP>:5000/students

# ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÉ‡∏´‡∏°‡πà
curl -X POST http://<YOUR_PUBLIC_IP>:5000/students \
  -H "Content-Type: application/json" \
  -d '{"name": "‡∏™‡∏°‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå ‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å", "student_id": "6401003", "gpa": 3.9}'
```

---

## üîß LAB 1-2: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Nginx ‡πÄ‡∏õ‡πá‡∏ô Reverse Proxy

```bash
# SSH ‡πÄ‡∏Ç‡πâ‡∏≤ EC2 ‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ
sudo yum install -y nginx

# ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Nginx
sudo tee /etc/nginx/conf.d/student-app.conf << 'EOF'
server {
    listen 80;
    server_name _;

    location / {
        proxy_pass http://127.0.0.1:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}
EOF

# ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô Nginx
sudo systemctl enable nginx
sudo systemctl start nginx

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö (Port 80 ‡πÅ‡∏•‡πâ‡∏ß)
curl http://<YOUR_PUBLIC_IP>/
curl http://<YOUR_PUBLIC_IP>/students
```

---

## üîß LAB 1-3: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Elastic IP

> ‚ö†Ô∏è **Elastic IP ‡∏ü‡∏£‡∏µ** ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠ **Associated ‡∏Å‡∏±‡∏ö Instance ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏±‡∏ô** ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡∏´‡∏≤‡∏Å Allocate ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡∏à‡∏∞‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢!

```
1. EC2 ‚Üí Elastic IPs ‚Üí Allocate Elastic IP address
2. ‡∏Ñ‡∏•‡∏¥‡∏Å Allocate
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Elastic IP ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ ‚Üí Actions ‚Üí Associate Elastic IP
4. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Instance: ict24267-webserver
5. ‡∏Ñ‡∏•‡∏¥‡∏Å Associate
```

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏µ‡πâ IP ‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏°‡πâ Stop/Start Instance

---

## üìù ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î Week 1

### ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏û‡∏¥‡πà‡∏° Endpoint ‡πÉ‡∏´‡∏°‡πà
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå `app.py` ‡∏ö‡∏ô EC2 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° Endpoint ‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ:

```python
# TODO: ‡∏™‡∏£‡πâ‡∏≤‡∏á endpoint ‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå
@app.route('/students/<int:student_id>', methods=['PUT'])
def update_student(student_id):
    """
    ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡∏≤‡∏° ID
    Request body: {"name": "...", "gpa": ...}
    Response: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏•‡πâ‡∏ß
    """
    # ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
    pass

@app.route('/students/<int:student_id>', methods=['DELETE'])
def delete_student(student_id):
    """
    ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡∏≤‡∏° ID
    Response: {"status": "success", "message": "Student deleted"}
    """
    # ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
    pass
```

### ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ó‡∏µ‡πà 2: Monitoring
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **EC2 ‚Üí Instances ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Instance ‚Üí Monitoring**
2. ‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï Metrics ‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡πà‡∏≤:
   - CPU Utilization
   - Network In/Out
   - Status Check
3. ‡∏ó‡∏î‡∏•‡∏≠‡∏á stress test ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á:
```bash
# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á stress tool
sudo yum install -y stress
# ‡∏£‡∏±‡∏ô CPU stress 60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
stress --cpu 1 --timeout 60
```
4. ‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á CPU Utilization ‡πÉ‡∏ô Console

### ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏¢‡∏ö‡∏ó Week 1

1. **EC2 Instance Types**: t2.micro vs t3.micro ‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£? ‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡πÑ‡∏° AWS ‡∏ñ‡∏∂‡∏á‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ t3.micro ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö workload ‡πÉ‡∏´‡∏°‡πà?

2. **Security Groups**: ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Inbound ‡πÅ‡∏•‡∏∞ Outbound rules ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏¢‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ß‡πà‡∏≤‡∏ó‡∏≥‡πÑ‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Outbound ‡∏Å‡πá‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

3. **User Data vs SSH**: ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£ configure server ‡∏ú‡πà‡∏≤‡∏ô User Data script ‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£ SSH ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏≠‡∏á

4. **Elastic IP**: ‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏°‡∏≤ ‡∏´‡∏≤‡∏Å‡∏•‡∏∑‡∏° Release Elastic IP ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏≠‡∏∞‡πÑ‡∏£‡∏Ç‡∏∂‡πâ‡∏ô? ‡πÅ‡∏•‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢?

5. **Flask Architecture**: ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ß‡πà‡∏≤‡∏ó‡∏≥‡πÑ‡∏°‡∏ñ‡∏∂‡∏á‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ Nginx ‡πÄ‡∏õ‡πá‡∏ô Reverse Proxy ‡∏´‡∏ô‡πâ‡∏≤ Flask ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏´‡πâ Flask ‡∏£‡∏±‡∏ö request ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á

---

---

# üìÖ WEEK 2: RDS ‚Äî Relational Database Service

## ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ RDS MySQL Instance ‡∏ö‡∏ô AWS
- ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ EC2 ‡∏Å‡∏±‡∏ö RDS ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏ú‡πà‡∏≤‡∏ô Private Subnet
- ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á Flask Application ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Database ‡∏à‡∏£‡∏¥‡∏á
- ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£ Database Security ‡πÉ‡∏ô Cloud

## ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤: 3 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á

---

## üîß LAB 2-1: ‡∏™‡∏£‡πâ‡∏≤‡∏á RDS MySQL Instance

### ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á Free Tier
- ‚úÖ Instance class: **db.t3.micro** ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
- ‚úÖ Storage: **20 GB** (‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 20 GB)
- ‚úÖ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **Single-AZ** (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Multi-AZ)
- ‚ùå **‡∏≠‡∏¢‡πà‡∏≤** ‡πÄ‡∏õ‡∏¥‡∏î **Multi-AZ** (‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢!)
- ‚ùå **‡∏≠‡∏¢‡πà‡∏≤** ‡πÄ‡∏õ‡∏¥‡∏î **Performance Insights** ‡πÄ‡∏Å‡∏¥‡∏ô 7 ‡∏ß‡∏±‡∏ô
- ‚úÖ 750 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö db.t3.micro

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á Security Group ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö RDS
1. EC2 ‚Üí Security Groups ‚Üí Create security group
2. Name: `ict24267-rds-sg`
3. Inbound rules:

| Type | Protocol | Port | Source |
|---|---|---|---|
| MySQL/Aurora | TCP | 3306 | `ict24267-web-sg` (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å SG ‡∏Ç‡∏≠‡∏á EC2) |

> üí° **Best Practice**: ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÄ‡∏â‡∏û‡∏≤‡∏∞ EC2 Security Group ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á RDS ‚Äî ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ Public

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á RDS Instance
1. AWS Console ‚Üí **RDS** ‚Üí **Create database**
2. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:

```
Creation method:   Standard create
Engine:            MySQL
Engine version:    MySQL 8.0.x (latest 8.0)
Templates:         Free tier ‚úÖ

DB instance identifier: ict24267-db
Master username:        admin
Master password:        ICT24267@2568  (‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á)

DB instance class:      db.t3.micro ‚úÖ
Storage type:           gp2
Allocated storage:      20 GB ‚úÖ
Enable storage autoscaling: ‚ùå ‡∏õ‡∏¥‡∏î

Availability:           Single DB instance ‚úÖ (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Multi-AZ)

VPC:                    Default VPC
Public access:          No ‚úÖ
VPC security group:     ict24267-rds-sg

Database name:          student_db
Backup retention:       1 day
Enable automated backups: ‚úÖ
```

3. ‡∏Ñ‡∏•‡∏¥‡∏Å **Create database** (‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 5-10 ‡∏ô‡∏≤‡∏ó‡∏µ)

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Endpoint
‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å RDS ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ‡πÉ‡∏´‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å:
- **Endpoint**: `ict24267-db.xxxxxxxxxx.ap-southeast-1.rds.amazonaws.com`
- **Port**: 3306

---

## üîß LAB 2-2: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á MySQL Client ‡πÅ‡∏•‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠

```bash
# SSH ‡πÄ‡∏Ç‡πâ‡∏≤ EC2 ‡∏Å‡πà‡∏≠‡∏ô ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á
sudo yum install -y mysql

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ RDS (‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏ß‡∏¢ Endpoint ‡∏à‡∏£‡∏¥‡∏á)
mysql -h ict24267-db.xxxxxxxxxx.ap-southeast-1.rds.amazonaws.com \
      -u admin \
      -p

# ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß ‡∏™‡∏£‡πâ‡∏≤‡∏á Database ‡πÅ‡∏•‡∏∞ Tables
```

```sql
-- ‡∏™‡∏£‡πâ‡∏≤‡∏á Database
CREATE DATABASE IF NOT EXISTS student_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
USE student_db;

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á students
CREATE TABLE students (
    id INT AUTO_INCREMENT PRIMARY KEY,
    student_id VARCHAR(20) UNIQUE NOT NULL,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(100),
    faculty VARCHAR(100),
    major VARCHAR(100),
    gpa DECIMAL(3,2) DEFAULT 0.00,
    enrollment_year INT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á courses
CREATE TABLE courses (
    id INT AUTO_INCREMENT PRIMARY KEY,
    course_code VARCHAR(20) UNIQUE NOT NULL,
    course_name VARCHAR(200) NOT NULL,
    credits INT DEFAULT 3,
    instructor VARCHAR(100)
);

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á enrollments
CREATE TABLE enrollments (
    id INT AUTO_INCREMENT PRIMARY KEY,
    student_id INT,
    course_id INT,
    grade VARCHAR(2),
    semester VARCHAR(20),
    FOREIGN KEY (student_id) REFERENCES students(id),
    FOREIGN KEY (course_id) REFERENCES courses(id)
);

-- ‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á
INSERT INTO students (student_id, name, email, faculty, major, gpa, enrollment_year) VALUES
('6401001', '‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ', 'somchai@example.com', 'ICT', 'Computer Science', 3.50, 2564),
('6401002', '‡∏™‡∏°‡∏´‡∏ç‡∏¥‡∏á ‡∏£‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô', 'somying@example.com', 'ICT', 'Information Technology', 3.80, 2564),
('6401003', '‡∏™‡∏°‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå ‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å', 'somsak@example.com', 'ICT', 'Digital Innovation', 3.90, 2564);

INSERT INTO courses (course_code, course_name, credits, instructor) VALUES
('ICT24267', 'Cloud Computing', 3, '‡∏≠.‡∏≠‡∏≥‡∏ô‡∏≤‡∏à ‡∏Ñ‡∏á‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡∏ñ‡∏¥‡πà‡∏ô'),
('ICT24101', 'Introduction to Programming', 3, '‡∏≠.‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏Å‡∏≤‡∏£');

-- ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°
SELECT * FROM students;
SELECT * FROM courses;

EXIT;
```

---

## üîß LAB 2-3: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Flask App ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ RDS

```bash
# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Python MySQL connector ‡∏ö‡∏ô EC2
pip3 install pymysql sqlalchemy flask-sqlalchemy python-dotenv
```

### ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡πá‡∏ö credentials
```bash
cat > /home/ec2-user/student-app/.env << 'EOF'
DB_HOST=ict24267-db.xxxxxxxxxx.ap-southeast-1.rds.amazonaws.com
DB_PORT=3306
DB_NAME=student_db
DB_USER=admin
DB_PASSWORD=ICT24267@2568
SECRET_KEY=ict24267-secret-key-2568
EOF

chmod 600 /home/ec2-user/student-app/.env
```

### ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `database.py`
```python
# /home/ec2-user/student-app/database.py
import pymysql
import os
from dotenv import load_dotenv

load_dotenv()

def get_connection():
    """‡∏™‡∏£‡πâ‡∏≤‡∏á Database Connection"""
    return pymysql.connect(
        host=os.getenv('DB_HOST'),
        port=int(os.getenv('DB_PORT', 3306)),
        database=os.getenv('DB_NAME'),
        user=os.getenv('DB_USER'),
        password=os.getenv('DB_PASSWORD'),
        charset='utf8mb4',
        cursorclass=pymysql.cursors.DictCursor,
        autocommit=True
    )

def execute_query(query, params=None, fetch=True):
    """Helper function ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏±‡∏ô Query"""
    conn = get_connection()
    try:
        with conn.cursor() as cursor:
            cursor.execute(query, params or ())
            if fetch:
                return cursor.fetchall()
            return cursor.lastrowid
    finally:
        conn.close()
```

### ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÑ‡∏ü‡∏•‡πå `app.py` ‡∏´‡∏•‡∏±‡∏Å
```python
# /home/ec2-user/student-app/app.py (Week 2 Version)
from flask import Flask, jsonify, request
from datetime import datetime
import os
from dotenv import load_dotenv
from database import execute_query, get_connection

load_dotenv()

app = Flask(__name__)

# ============================================================
# ROOT & HEALTH ENDPOINTS
# ============================================================

@app.route('/')
def index():
    return jsonify({
        "message": "üéì Student Record System - Week 2 (with RDS)",
        "course": "ICT 24267 Cloud Computing",
        "semester": "2/2568",
        "server_time": datetime.now().strftime("%Y-%m-%d %H:%M:%S"),
        "version": "2.0.0",
        "database": "MySQL RDS"
    })

@app.route('/health')
def health():
    """Health check ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á Database connectivity"""
    db_status = "disconnected"
    try:
        conn = get_connection()
        conn.close()
        db_status = "connected"
    except Exception as e:
        db_status = f"error: {str(e)}"
    
    return jsonify({
        "status": "healthy",
        "database": db_status,
        "timestamp": datetime.now().isoformat()
    })

# ============================================================
# STUDENTS CRUD ENDPOINTS
# ============================================================

@app.route('/students', methods=['GET'])
def get_students():
    """‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"""
    try:
        # ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö query parameters
        faculty = request.args.get('faculty')
        min_gpa = request.args.get('min_gpa', type=float)
        
        query = "SELECT * FROM students WHERE 1=1"
        params = []
        
        if faculty:
            query += " AND faculty = %s"
            params.append(faculty)
        if min_gpa:
            query += " AND gpa >= %s"
            params.append(min_gpa)
        
        query += " ORDER BY student_id"
        
        students = execute_query(query, params)
        return jsonify({
            "status": "success",
            "count": len(students),
            "data": students
        })
    except Exception as e:
        return jsonify({"status": "error", "message": str(e)}), 500

@app.route('/students/<int:student_id>', methods=['GET'])
def get_student(student_id):
    """‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡∏≤‡∏° ID"""
    try:
        result = execute_query(
            "SELECT * FROM students WHERE id = %s", 
            (student_id,)
        )
        if result:
            return jsonify({"status": "success", "data": result[0]})
        return jsonify({"status": "error", "message": "Student not found"}), 404
    except Exception as e:
        return jsonify({"status": "error", "message": str(e)}), 500

@app.route('/students', methods=['POST'])
def create_student():
    """‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÉ‡∏´‡∏°‡πà"""
    try:
        data = request.get_json()
        required_fields = ['student_id', 'name']
        
        for field in required_fields:
            if not data.get(field):
                return jsonify({
                    "status": "error", 
                    "message": f"Missing required field: {field}"
                }), 400
        
        new_id = execute_query(
            """INSERT INTO students 
               (student_id, name, email, faculty, major, gpa, enrollment_year)
               VALUES (%s, %s, %s, %s, %s, %s, %s)""",
            (
                data['student_id'], data['name'],
                data.get('email', ''), data.get('faculty', ''),
                data.get('major', ''), data.get('gpa', 0.00),
                data.get('enrollment_year', datetime.now().year + 543)
            ),
            fetch=False
        )
        
        student = execute_query(
            "SELECT * FROM students WHERE id = %s", (new_id,)
        )
        return jsonify({"status": "success", "data": student[0]}), 201
        
    except Exception as e:
        return jsonify({"status": "error", "message": str(e)}), 500

@app.route('/students/<int:student_id>', methods=['PUT'])
def update_student(student_id):
    """‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤"""
    try:
        data = request.get_json()
        
        execute_query(
            """UPDATE students 
               SET name=%s, email=%s, faculty=%s, major=%s, gpa=%s
               WHERE id=%s""",
            (
                data.get('name'), data.get('email'),
                data.get('faculty'), data.get('major'),
                data.get('gpa'), student_id
            ),
            fetch=False
        )
        
        student = execute_query(
            "SELECT * FROM students WHERE id = %s", (student_id,)
        )
        if student:
            return jsonify({"status": "success", "data": student[0]})
        return jsonify({"status": "error", "message": "Student not found"}), 404
        
    except Exception as e:
        return jsonify({"status": "error", "message": str(e)}), 500

@app.route('/students/<int:student_id>', methods=['DELETE'])
def delete_student(student_id):
    """‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤"""
    try:
        execute_query(
            "DELETE FROM students WHERE id = %s", 
            (student_id,), 
            fetch=False
        )
        return jsonify({
            "status": "success", 
            "message": f"Student ID {student_id} deleted"
        })
    except Exception as e:
        return jsonify({"status": "error", "message": str(e)}), 500

# ============================================================
# COURSES ENDPOINTS
# ============================================================

@app.route('/courses', methods=['GET'])
def get_courses():
    courses = execute_query("SELECT * FROM courses ORDER BY course_code")
    return jsonify({"status": "success", "count": len(courses), "data": courses})

@app.route('/courses', methods=['POST'])
def create_course():
    data = request.get_json()
    new_id = execute_query(
        "INSERT INTO courses (course_code, course_name, credits, instructor) VALUES (%s, %s, %s, %s)",
        (data['course_code'], data['course_name'], data.get('credits', 3), data.get('instructor', '')),
        fetch=False
    )
    course = execute_query("SELECT * FROM courses WHERE id = %s", (new_id,))
    return jsonify({"status": "success", "data": course[0]}), 201

# ============================================================
# STATISTICS ENDPOINT
# ============================================================

@app.route('/stats')
def get_stats():
    """‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°"""
    total_students = execute_query("SELECT COUNT(*) as count FROM students")[0]['count']
    avg_gpa = execute_query("SELECT AVG(gpa) as avg FROM students")[0]['avg']
    top_students = execute_query(
        "SELECT name, student_id, gpa FROM students ORDER BY gpa DESC LIMIT 3"
    )
    
    return jsonify({
        "status": "success",
        "data": {
            "total_students": total_students,
            "average_gpa": round(float(avg_gpa or 0), 2),
            "top_students": top_students
        }
    })

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=5000, debug=False)
```

```bash
# Restart service
sudo systemctl restart student-app

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö
curl http://localhost:5000/health
curl http://localhost:5000/students
curl http://localhost:5000/stats

# ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤
curl -X POST http://localhost:5000/students \
  -H "Content-Type: application/json" \
  -d '{
    "student_id": "6401004",
    "name": "‡∏ß‡∏¥‡πÑ‡∏• ‡∏°‡∏µ‡πÅ‡∏ß‡∏ß‡∏î‡∏µ",
    "email": "vilai@example.com",
    "faculty": "ICT",
    "major": "Cloud Technology",
    "gpa": 3.75,
    "enrollment_year": 2564
  }'
```

---

## üìù ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î Week 2

### ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ó‡∏µ‡πà 1: Enrollment System
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô Python Script ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á `enrollments`:
```python
# TODO: ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ‡πÉ‡∏ô app.py
# 1. POST /enrollments - ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÉ‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤
# 2. GET /students/<id>/courses - ‡∏î‡∏π‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô
# 3. GET /courses/<id>/students - ‡∏î‡∏π‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÉ‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤
```

### ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ó‡∏µ‡πà 2: RDS Snapshot
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **RDS ‚Üí Databases ‚Üí ict24267-db**
2. Actions ‚Üí **Take snapshot**
3. Snapshot identifier: `ict24267-db-week2-backup`
4. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö snapshot ‡∏ó‡∏µ‡πà **RDS ‚Üí Snapshots**

### ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏¢‡∏ö‡∏ó Week 2

1. **RDS vs ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á MySQL ‡∏ö‡∏ô EC2**: ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ RDS Managed Service ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á MySQL ‡∏ö‡∏ô EC2 ‡πÄ‡∏≠‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 3 ‡∏Ç‡πâ‡∏≠

2. **Security Best Practice**: ‡∏ó‡∏≥‡πÑ‡∏°‡∏ñ‡∏∂‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ `Public access: No` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö RDS ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏´‡πâ EC2 ‡πÄ‡∏õ‡πá‡∏ô gateway ‡πÅ‡∏ó‡∏ô? ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡∏¥‡∏î Public access?

3. **Connection Pooling**: ‡∏ñ‡πâ‡∏≤ Application ‡∏°‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô 1,000 ‡∏Ñ‡∏ô ‡πÅ‡∏•‡∏∞‡πÅ‡∏ï‡πà‡∏•‡∏∞ request ‡∏™‡∏£‡πâ‡∏≤‡∏á connection ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏≠‡∏∞‡πÑ‡∏£? ‡πÅ‡∏•‡∏∞ Connection Pool ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?

4. **Database Backup**: AWS RDS ‡∏°‡∏µ‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå backup ‡∏Å‡∏µ‡πà‡πÅ‡∏ö‡∏ö? ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÅ‡∏ö‡∏ö‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?

5. **SQL Injection**: ‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î `database.py` ‡∏ó‡∏≥‡πÑ‡∏°‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Parameterized Query (`%s`) ‡∏ñ‡∏∂‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Å‡∏ß‡πà‡∏≤ String Formatting?

---

---

# üìÖ WEEK 3: Lambda & API Gateway ‚Äî Serverless API

## ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ
- ‡∏™‡∏£‡πâ‡∏≤‡∏á Lambda Functions ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô Serverless
- ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Lambda ‡∏Å‡∏±‡∏ö RDS ‡∏ú‡πà‡∏≤‡∏ô VPC
- ‡∏™‡∏£‡πâ‡∏≤‡∏á REST API ‡∏î‡πâ‡∏ß‡∏¢ API Gateway ‡πÅ‡∏ö‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå
- ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à Serverless Architecture ‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢

## ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤: 3 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á

---

## üîß LAB 3-1: ‡∏™‡∏£‡πâ‡∏≤‡∏á IAM Role ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Lambda

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á IAM Role
1. AWS Console ‚Üí **IAM** ‚Üí **Roles** ‚Üí **Create role**
2. Trusted entity: **AWS service** ‚Üí **Lambda**
3. ‡πÄ‡∏û‡∏¥‡πà‡∏° Permissions policies:
   - `AWSLambdaVPCAccessExecutionRole` (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á VPC/RDS)
   - `AWSLambdaBasicExecutionRole` (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö CloudWatch Logs)
4. Role name: `ict24267-lambda-role`

---

## üîß LAB 3-2: ‡∏™‡∏£‡πâ‡∏≤‡∏á Lambda Layer ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö PyMySQL

‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å Lambda ‡πÑ‡∏°‡πà‡∏°‡∏µ `pymysql` ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏°‡∏≤‡πÉ‡∏´‡πâ ‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Layer:

```bash
# ‡∏£‡∏±‡∏ô‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á Local ‡∏´‡∏£‡∏∑‡∏≠ EC2
mkdir -p lambda-layer/python
pip3 install pymysql -t lambda-layer/python/
cd lambda-layer
zip -r pymysql-layer.zip python/
```

1. AWS Console ‚Üí **Lambda** ‚Üí **Layers** ‚Üí **Create layer**
2. Name: `pymysql-layer`
3. Upload: `pymysql-layer.zip`
4. Compatible runtimes: **Python 3.11**
5. ‡∏Ñ‡∏•‡∏¥‡∏Å **Create**

---

## üîß LAB 3-3: ‡∏™‡∏£‡πâ‡∏≤‡∏á Lambda Functions

### Function 1: `ict24267-get-students`

1. Lambda ‚Üí **Create function**
2. Function name: `ict24267-get-students`
3. Runtime: **Python 3.11**
4. Execution role: **Use an existing role** ‚Üí `ict24267-lambda-role`

**‡πÇ‡∏Ñ‡πâ‡∏î Lambda Function:**
```python
# lambda_get_students.py
import json
import pymysql
import os
import logging

logger = logging.getLogger()
logger.setLevel(logging.INFO)

def get_db_connection():
    """‡∏™‡∏£‡πâ‡∏≤‡∏á RDS Connection"""
    return pymysql.connect(
        host=os.environ['DB_HOST'],
        port=int(os.environ.get('DB_PORT', 3306)),
        database=os.environ['DB_NAME'],
        user=os.environ['DB_USER'],
        password=os.environ['DB_PASSWORD'],
        charset='utf8mb4',
        cursorclass=pymysql.cursors.DictCursor,
        connect_timeout=10
    )

def lambda_handler(event, context):
    """
    Lambda Handler ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤
    Supports: GET /students ‡πÅ‡∏•‡∏∞ GET /students/{id}
    """
    logger.info(f"Event: {json.dumps(event)}")
    
    # ‡∏î‡∏∂‡∏á path parameters
    path_params = event.get('pathParameters') or {}
    student_id = path_params.get('id')
    
    # ‡∏î‡∏∂‡∏á query string parameters
    query_params = event.get('queryStringParameters') or {}
    faculty = query_params.get('faculty')
    min_gpa = query_params.get('min_gpa')
    
    conn = None
    try:
        conn = get_db_connection()
        
        with conn.cursor() as cursor:
            if student_id:
                # ‡∏î‡∏∂‡∏á‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
                cursor.execute(
                    "SELECT * FROM students WHERE id = %s", 
                    (student_id,)
                )
                student = cursor.fetchone()
                
                if not student:
                    return build_response(404, {
                        "status": "error",
                        "message": f"Student ID {student_id} not found"
                    })
                
                # ‡πÅ‡∏õ‡∏•‡∏á Decimal ‡πÄ‡∏õ‡πá‡∏ô float
                student['gpa'] = float(student['gpa']) if student['gpa'] else 0.0
                
                return build_response(200, {
                    "status": "success",
                    "data": student
                })
            else:
                # ‡∏î‡∏∂‡∏á‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏û‡∏£‡πâ‡∏≠‡∏° filters
                query = "SELECT * FROM students WHERE 1=1"
                params = []
                
                if faculty:
                    query += " AND faculty = %s"
                    params.append(faculty)
                if min_gpa:
                    query += " AND gpa >= %s"
                    params.append(float(min_gpa))
                
                query += " ORDER BY student_id"
                cursor.execute(query, params)
                students = cursor.fetchall()
                
                # ‡πÅ‡∏õ‡∏•‡∏á Decimal ‡πÄ‡∏õ‡πá‡∏ô float
                for s in students:
                    s['gpa'] = float(s['gpa']) if s['gpa'] else 0.0
                
                return build_response(200, {
                    "status": "success",
                    "count": len(students),
                    "data": students
                })
                
    except pymysql.Error as e:
        logger.error(f"Database error: {str(e)}")
        return build_response(500, {
            "status": "error",
            "message": f"Database error: {str(e)}"
        })
    except Exception as e:
        logger.error(f"Unexpected error: {str(e)}")
        return build_response(500, {
            "status": "error",
            "message": "Internal server error"
        })
    finally:
        if conn:
            conn.close()

def build_response(status_code, body):
    """‡∏™‡∏£‡πâ‡∏≤‡∏á HTTP Response ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö API Gateway"""
    return {
        "statusCode": status_code,
        "headers": {
            "Content-Type": "application/json",
            "Access-Control-Allow-Origin": "*",
            "Access-Control-Allow-Headers": "Content-Type",
            "Access-Control-Allow-Methods": "GET,POST,PUT,DELETE,OPTIONS"
        },
        "body": json.dumps(body, ensure_ascii=False, default=str)
    }
```

5. ‡πÄ‡∏û‡∏¥‡πà‡∏° **Environment Variables**:
   - `DB_HOST`: endpoint ‡∏Ç‡∏≠‡∏á RDS
   - `DB_PORT`: 3306
   - `DB_NAME`: student_db
   - `DB_USER`: admin
   - `DB_PASSWORD`: ICT24267@2568

6. ‡πÄ‡∏û‡∏¥‡πà‡∏° **VPC Configuration** (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á RDS):
   - VPC: Default VPC
   - Subnets: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏∏‡∏Å subnet
   - Security groups: `ict24267-rds-sg`

7. ‡πÄ‡∏û‡∏¥‡πà‡∏° **Layer**: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å `pymysql-layer` ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ

### Function 2: `ict24267-manage-students`

‡∏™‡∏£‡πâ‡∏≤‡∏á Lambda Function ‡∏≠‡∏µ‡∏Å‡∏ï‡∏±‡∏ß‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö POST/PUT/DELETE:

```python
# lambda_manage_students.py
import json
import pymysql
import os
import logging
from datetime import datetime

logger = logging.getLogger()
logger.setLevel(logging.INFO)

def get_db_connection():
    return pymysql.connect(
        host=os.environ['DB_HOST'],
        port=int(os.environ.get('DB_PORT', 3306)),
        database=os.environ['DB_NAME'],
        user=os.environ['DB_USER'],
        password=os.environ['DB_PASSWORD'],
        charset='utf8mb4',
        cursorclass=pymysql.cursors.DictCursor,
        connect_timeout=10
    )

def lambda_handler(event, context):
    logger.info(f"Event: {json.dumps(event)}")
    
    http_method = event.get('httpMethod', '')
    path_params = event.get('pathParameters') or {}
    student_id = path_params.get('id')
    
    # ‡πÅ‡∏õ‡∏•‡∏á body
    body = {}
    if event.get('body'):
        body = json.loads(event['body'])
    
    conn = None
    try:
        conn = get_db_connection()
        
        if http_method == 'POST':
            return create_student(conn, body)
        elif http_method == 'PUT' and student_id:
            return update_student(conn, student_id, body)
        elif http_method == 'DELETE' and student_id:
            return delete_student(conn, student_id)
        else:
            return build_response(400, {"status": "error", "message": "Invalid request"})
            
    except Exception as e:
        logger.error(f"Error: {str(e)}")
        return build_response(500, {"status": "error", "message": str(e)})
    finally:
        if conn:
            conn.close()

def create_student(conn, data):
    required = ['student_id', 'name']
    for field in required:
        if not data.get(field):
            return build_response(400, {
                "status": "error",
                "message": f"Missing required field: {field}"
            })
    
    with conn.cursor() as cursor:
        cursor.execute(
            """INSERT INTO students (student_id, name, email, faculty, major, gpa, enrollment_year)
               VALUES (%s, %s, %s, %s, %s, %s, %s)""",
            (
                data['student_id'], data['name'],
                data.get('email', ''), data.get('faculty', ''),
                data.get('major', ''), data.get('gpa', 0.00),
                data.get('enrollment_year', 2567)
            )
        )
        conn.commit()
        new_id = cursor.lastrowid
        
        cursor.execute("SELECT * FROM students WHERE id = %s", (new_id,))
        student = cursor.fetchone()
        student['gpa'] = float(student['gpa']) if student['gpa'] else 0.0
        
    return build_response(201, {"status": "success", "data": student})

def update_student(conn, student_id, data):
    with conn.cursor() as cursor:
        cursor.execute(
            """UPDATE students SET name=%s, email=%s, faculty=%s, major=%s, gpa=%s
               WHERE id=%s""",
            (data.get('name'), data.get('email'),
             data.get('faculty'), data.get('major'),
             data.get('gpa'), student_id)
        )
        conn.commit()
        
        cursor.execute("SELECT * FROM students WHERE id = %s", (student_id,))
        student = cursor.fetchone()
        
    if not student:
        return build_response(404, {"status": "error", "message": "Student not found"})
    
    student['gpa'] = float(student['gpa']) if student['gpa'] else 0.0
    return build_response(200, {"status": "success", "data": student})

def delete_student(conn, student_id):
    with conn.cursor() as cursor:
        affected = cursor.execute(
            "DELETE FROM students WHERE id = %s", (student_id,)
        )
        conn.commit()
    
    if affected == 0:
        return build_response(404, {"status": "error", "message": "Student not found"})
    
    return build_response(200, {
        "status": "success",
        "message": f"Student ID {student_id} deleted successfully"
    })

def build_response(status_code, body):
    return {
        "statusCode": status_code,
        "headers": {
            "Content-Type": "application/json",
            "Access-Control-Allow-Origin": "*",
            "Access-Control-Allow-Headers": "Content-Type",
            "Access-Control-Allow-Methods": "GET,POST,PUT,DELETE,OPTIONS"
        },
        "body": json.dumps(body, ensure_ascii=False, default=str)
    }
```

---

## üîß LAB 3-4: ‡∏™‡∏£‡πâ‡∏≤‡∏á API Gateway

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á REST API
1. AWS Console ‚Üí **API Gateway** ‚Üí **Create API**
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **REST API** ‚Üí **Build**
3. Protocol: **REST**
4. Create new API: **New API**
5. API name: `ict24267-student-api`
6. Endpoint Type: **Regional**
7. ‡∏Ñ‡∏•‡∏¥‡∏Å **Create API**

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á Resources ‡πÅ‡∏•‡∏∞ Methods

**‡∏™‡∏£‡πâ‡∏≤‡∏á `/students` resource:**
1. Actions ‚Üí **Create Resource**
2. Resource Name: `students`
3. Resource Path: `students`
4. Enable API Gateway CORS: ‚úÖ
5. Create Resource

**‡πÄ‡∏û‡∏¥‡πà‡∏° Method GET ‡∏ö‡∏ô /students:**
1. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å `/students` ‚Üí Actions ‚Üí **Create Method** ‚Üí **GET**
2. Integration type: **Lambda Function**
3. Lambda Function: `ict24267-get-students`
4. Save ‚Üí OK (Allow API Gateway to invoke Lambda)

**‡πÄ‡∏û‡∏¥‡πà‡∏° Method POST ‡∏ö‡∏ô /students:**
1. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å `/students` ‚Üí Actions ‚Üí **Create Method** ‚Üí **POST**
2. Lambda Function: `ict24267-manage-students`

**‡∏™‡∏£‡πâ‡∏≤‡∏á `/students/{id}` resource:**
1. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å `/students` ‚Üí Actions ‚Üí **Create Resource**
2. Resource Name: `student`
3. Resource Path: `{id}` (‡πÉ‡∏™‡πà curly braces)
4. Create Resource

**‡πÄ‡∏û‡∏¥‡πà‡∏° Methods ‡∏ö‡∏ô /students/{id}:**
- GET ‚Üí `ict24267-get-students`
- PUT ‚Üí `ict24267-manage-students`
- DELETE ‚Üí `ict24267-manage-students`

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: Deploy API
1. Actions ‚Üí **Deploy API**
2. Deployment stage: **[New Stage]**
3. Stage name: `prod`
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **Deploy**
5. ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å **Invoke URL**: `https://xxxxxxxxxx.execute-api.ap-southeast-1.amazonaws.com/prod`

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö API
```bash
# ‡∏Å‡∏≥‡∏´‡∏ô‡∏î API Base URL
API_URL="https://xxxxxxxxxx.execute-api.ap-southeast-1.amazonaws.com/prod"

# GET ‡∏ó‡∏∏‡∏Å students
curl $API_URL/students

# GET ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
curl $API_URL/students/1

# GET ‡∏î‡πâ‡∏ß‡∏¢ filter
curl "$API_URL/students?faculty=ICT&min_gpa=3.5"

# POST ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÉ‡∏´‡∏°‡πà
curl -X POST $API_URL/students \
  -H "Content-Type: application/json" \
  -d '{
    "student_id": "6401005",
    "name": "‡∏ó‡∏î‡∏™‡∏≠‡∏ö ‡∏£‡∏∞‡∏ö‡∏ö",
    "email": "test@api.com",
    "faculty": "ICT",
    "major": "Cloud Technology",
    "gpa": 3.60,
    "enrollment_year": 2564
  }'

# PUT ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï
curl -X PUT $API_URL/students/1 \
  -H "Content-Type: application/json" \
  -d '{"name": "‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ‡∏°‡∏≤‡∏Å", "gpa": 3.65}'

# DELETE ‡∏•‡∏ö‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤
curl -X DELETE $API_URL/students/5
```

---

## üîß LAB 3-5: Lambda ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô Scheduled (CloudWatch Events)

‡∏™‡∏£‡πâ‡∏≤‡∏á Lambda Function ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö **‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô** (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Always Free Use Case):

```python
# lambda_daily_report.py
import json
import pymysql
import os
import logging
from datetime import datetime

logger = logging.getLogger()
logger.setLevel(logging.INFO)

def get_db_connection():
    return pymysql.connect(
        host=os.environ['DB_HOST'],
        port=int(os.environ.get('DB_PORT', 3306)),
        database=os.environ['DB_NAME'],
        user=os.environ['DB_USER'],
        password=os.environ['DB_PASSWORD'],
        charset='utf8mb4',
        cursorclass=pymysql.cursors.DictCursor
    )

def lambda_handler(event, context):
    """
    Lambda ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å trigger ‡πÇ‡∏î‡∏¢ EventBridge (CloudWatch Events)
    ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥
    """
    logger.info("Daily report Lambda triggered")
    
    conn = None
    try:
        conn = get_db_connection()
        report = generate_daily_report(conn)
        
        logger.info(f"Daily Report Generated: {json.dumps(report, ensure_ascii=False)}")
        
        return {
            "statusCode": 200,
            "body": json.dumps({
                "message": "Daily report generated successfully",
                "report": report
            }, ensure_ascii=False)
        }
    except Exception as e:
        logger.error(f"Error generating report: {str(e)}")
        raise
    finally:
        if conn:
            conn.close()

def generate_daily_report(conn):
    with conn.cursor() as cursor:
        # ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        cursor.execute("SELECT COUNT(*) as total FROM students")
        total = cursor.fetchone()['total']
        
        # GPA ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢
        cursor.execute("SELECT AVG(gpa) as avg_gpa FROM students")
        avg_gpa = cursor.fetchone()['avg_gpa']
        
        # ‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏ï‡∏≤‡∏° Faculty
        cursor.execute("""
            SELECT faculty, COUNT(*) as count, AVG(gpa) as avg_gpa
            FROM students
            GROUP BY faculty
            ORDER BY count DESC
        """)
        by_faculty = cursor.fetchall()
        
        # Top 5 ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤
        cursor.execute("""
            SELECT name, student_id, gpa 
            FROM students 
            ORDER BY gpa DESC 
            LIMIT 5
        """)
        top_students = cursor.fetchall()
        
    return {
        "report_date": datetime.now().strftime("%Y-%m-%d"),
        "total_students": total,
        "average_gpa": round(float(avg_gpa or 0), 2),
        "by_faculty": [
            {
                "faculty": r['faculty'],
                "count": r['count'],
                "avg_gpa": round(float(r['avg_gpa'] or 0), 2)
            }
            for r in by_faculty
        ],
        "top_5_students": [
            {"name": s['name'], "student_id": s['student_id'], "gpa": float(s['gpa'])}
            for s in top_students
        ]
    }
```

### ‡∏ï‡∏±‡πâ‡∏á Schedule ‡∏î‡πâ‡∏ß‡∏¢ EventBridge
1. Lambda Function ‚Üí **Configuration** ‚Üí **Triggers** ‚Üí **Add trigger**
2. Trigger source: **EventBridge (CloudWatch Events)**
3. Rule: **Create a new rule**
4. Rule name: `ict24267-daily-report`
5. Schedule expression: `cron(0 1 * * ? *)` (‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô 01:00 UTC = 08:00 ‡∏ô. ‡πÑ‡∏ó‡∏¢)
6. Add

---

## üìù ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î Week 3

### ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏û‡∏¥‡πà‡∏° Lambda Function ‡πÉ‡∏´‡∏°‡πà
‡∏™‡∏£‡πâ‡∏≤‡∏á Lambda Function ‡∏ä‡∏∑‡πà‡∏≠ `ict24267-search-students` ‡∏ó‡∏µ‡πà:
- ‡∏£‡∏±‡∏ö query parameter `keyword`
- ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏à‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á `name` ‡πÅ‡∏•‡∏∞ `student_id`
- Return ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô

```python
# Template ‡πÉ‡∏´‡πâ‡πÄ‡∏ï‡∏¥‡∏°‡πÉ‡∏´‡πâ‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå
def lambda_handler(event, context):
    query_params = event.get('queryStringParameters') or {}
    keyword = query_params.get('keyword', '')
    
    # TODO: ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô SQL query ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ LIKE ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
    # TODO: Return ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
    pass
```

### ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ó‡∏µ‡πà 2: API Gateway Throttling
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **API Gateway ‚Üí ict24267-student-api ‚Üí Stages ‚Üí prod**
2. ‡πÄ‡∏õ‡∏¥‡∏î **Default Method Throttling**
3. ‡∏ï‡∏±‡πâ‡∏á Rate: `100`, Burst: `200`
4. Save Changes
5. ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ß‡πà‡∏≤ Throttling ‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£

### ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏¢‡∏ö‡∏ó Week 3

1. **Cold Start**: Lambda Cold Start ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£? ‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏ï‡πà‡∏≠ User Experience? ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á?

2. **Lambda vs EC2**: ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏≤‡∏£ deploy Student Record System ‡∏ö‡∏ô EC2 (Week 1-2) ‡∏Å‡∏±‡∏ö Serverless Lambda (Week 3) ‡πÉ‡∏ô‡πÅ‡∏á‡πà‡∏Ç‡∏≠‡∏á Cost, Scalability, ‡πÅ‡∏•‡∏∞ Maintenance

3. **VPC Lambda**: ‡∏ó‡∏≥‡πÑ‡∏° Lambda ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á RDS ‡∏ñ‡∏∂‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô VPC ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô? ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° VPC ‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠ Cold Start ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?

4. **API Gateway**: ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á REST API ‡πÅ‡∏•‡∏∞ HTTP API ‡πÉ‡∏ô API Gateway ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡πà‡∏≤‡∏Ñ‡∏ß‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ‡πÅ‡∏ö‡∏ö‡πÑ‡∏´‡∏ô‡πÉ‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÉ‡∏î

5. **Idempotency**: ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö API ‡∏ó‡∏µ‡πà‡∏î‡∏µ ‡∏ó‡∏≥‡πÑ‡∏° POST /students ‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Idempotency? ‡πÅ‡∏•‡∏∞‡∏à‡∏∞ implement ‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?

---

---

# üìÖ WEEK 4: Integration, Security & Monitoring

## ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ
- ‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å‡∏™‡πà‡∏ß‡∏ô (EC2 + RDS + Lambda + API Gateway) ‡πÄ‡∏Ç‡πâ‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô
- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Security ‡∏£‡∏∞‡∏î‡∏±‡∏ö Production
- Monitor ‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢ CloudWatch
- ‡∏™‡∏£‡πâ‡∏≤‡∏á Simple Frontend ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô API

## ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤: 3 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á

---

## üîß LAB 4-1: Secrets Manager ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Database Credentials

> ‚ö†Ô∏è AWS Secrets Manager **‡πÑ‡∏°‡πà‡∏ü‡∏£‡∏µ** ($0.40/secret/month) ‡πÅ‡∏ï‡πà‡∏°‡∏µ **30 ‡∏ß‡∏±‡∏ô‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏ü‡∏£‡∏µ**  
> ‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ü‡∏£‡∏µ: ‡πÉ‡∏ä‡πâ **SSM Parameter Store (Standard)** ‡∏ã‡∏∂‡πà‡∏á Free Tier ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö

### ‡πÉ‡∏ä‡πâ SSM Parameter Store (Free)
```python
# ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Lambda Functions ‡πÉ‡∏´‡πâ‡∏î‡∏∂‡∏á credentials ‡∏à‡∏≤‡∏Å SSM

import boto3
import json
import os

def get_db_credentials():
    """
    ‡∏î‡∏∂‡∏á Database credentials ‡∏à‡∏≤‡∏Å AWS SSM Parameter Store
    (‡∏ü‡∏£‡∏µ ‡πÅ‡∏•‡∏∞‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô Environment Variables)
    """
    ssm = boto3.client('ssm', region_name='ap-southeast-1')
    
    response = ssm.get_parameters(
        Names=[
            '/ict24267/db/host',
            '/ict24267/db/name',
            '/ict24267/db/user',
            '/ict24267/db/password'
        ],
        WithDecryption=True
    )
    
    params = {p['Name'].split('/')[-1]: p['Value'] 
              for p in response['Parameters']}
    
    return {
        'host': params['host'],
        'database': params['name'],
        'user': params['user'],
        'password': params['password']
    }
```

### ‡∏™‡∏£‡πâ‡∏≤‡∏á Parameters ‡πÉ‡∏ô SSM
```bash
# ‡∏£‡∏±‡∏ô‡∏ö‡∏ô AWS CLI ‡∏´‡∏£‡∏∑‡∏≠ CloudShell
aws ssm put-parameter \
    --name "/ict24267/db/host" \
    --value "ict24267-db.xxxxxxxxxx.ap-southeast-1.rds.amazonaws.com" \
    --type "SecureString" \
    --region ap-southeast-1

aws ssm put-parameter \
    --name "/ict24267/db/name" \
    --value "student_db" \
    --type "SecureString" \
    --region ap-southeast-1

aws ssm put-parameter \
    --name "/ict24267/db/user" \
    --value "admin" \
    --type "SecureString" \
    --region ap-southeast-1

aws ssm put-parameter \
    --name "/ict24267/db/password" \
    --value "ICT24267@2568" \
    --type "SecureString" \
    --region ap-southeast-1
```

---

## üîß LAB 4-2: CloudWatch Dashboard ‡πÅ‡∏•‡∏∞ Alarms

### ‡∏™‡∏£‡πâ‡∏≤‡∏á CloudWatch Dashboard
1. AWS Console ‚Üí **CloudWatch** ‚Üí **Dashboards** ‚Üí **Create dashboard**
2. Name: `ICT24267-Student-System`
3. ‡πÄ‡∏û‡∏¥‡πà‡∏° Widgets:

**Widget 1: EC2 CPU Utilization**
- Add widget ‚Üí Line
- Metrics ‚Üí EC2 ‚Üí Per-Instance Metrics
- CPUUtilization ‚Üí Instance: `ict24267-webserver`

**Widget 2: Lambda Invocations**
- Add widget ‚Üí Line
- Metrics ‚Üí Lambda ‚Üí By Function Name
- Invocations, Duration, Errors
- Function: `ict24267-get-students`, `ict24267-manage-students`

**Widget 3: API Gateway Requests**
- Add widget ‚Üí Number
- Metrics ‚Üí API Gateway ‚Üí By Stage
- Count, 4XXError, 5XXError

**Widget 4: RDS Connections**
- Add widget ‚Üí Line
- Metrics ‚Üí RDS ‚Üí Per-Database Metrics
- DatabaseConnections ‚Üí DB: `ict24267-db`

### ‡∏™‡∏£‡πâ‡∏≤‡∏á CloudWatch Alarms
```
1. CloudWatch ‚Üí Alarms ‚Üí Create alarm

Alarm 1: EC2 High CPU
- Metric: EC2 > CPUUtilization > ict24267-webserver
- Condition: > 80% for 2 consecutive periods (5 min each)
- Action: Send notification to email (SNS)

Alarm 2: Lambda Errors
- Metric: Lambda > Errors > ict24267-get-students
- Condition: >= 5 errors in 5 minutes
- Action: Send notification to email
```

---

## üîß LAB 4-3: ‡∏™‡∏£‡πâ‡∏≤‡∏á Frontend HTML ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Student System

### ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `index.html` ‡∏ö‡∏ô EC2
```bash
sudo mkdir -p /var/www/html
sudo tee /var/www/html/index.html << 'HTMLEOF'
<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ICT24267 - Student Record System</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; }
        .header {
            background: linear-gradient(135deg, #232f3e, #ff9900);
            color: white; padding: 20px 40px;
            display: flex; align-items: center; gap: 15px;
        }
        .header h1 { font-size: 1.5em; }
        .header p { font-size: 0.9em; opacity: 0.8; }
        .container { max-width: 1200px; margin: 20px auto; padding: 0 20px; }
        .card {
            background: white; border-radius: 12px;
            padding: 24px; margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .card h2 { color: #232f3e; margin-bottom: 16px; border-bottom: 2px solid #ff9900; padding-bottom: 8px; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px; }
        .form-group { display: flex; flex-direction: column; gap: 4px; }
        label { font-size: 0.85em; font-weight: 600; color: #555; }
        input, select {
            padding: 8px 12px; border: 1px solid #ddd;
            border-radius: 6px; font-size: 0.9em;
        }
        .btn {
            padding: 10px 20px; border: none; border-radius: 6px;
            cursor: pointer; font-weight: 600; transition: all 0.2s;
        }
        .btn-primary { background: #ff9900; color: white; }
        .btn-danger { background: #dc3545; color: white; }
        .btn-secondary { background: #6c757d; color: white; }
        .btn:hover { opacity: 0.85; transform: translateY(-1px); }
        table { width: 100%; border-collapse: collapse; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #eee; font-size: 0.9em; }
        th { background: #f8f9fa; font-weight: 700; color: #333; }
        tr:hover { background: #fff8f0; }
        .badge {
            padding: 2px 8px; border-radius: 12px; font-size: 0.8em;
            font-weight: 600;
        }
        .badge-high { background: #d4edda; color: #155724; }
        .badge-mid { background: #fff3cd; color: #856404; }
        .badge-low { background: #f8d7da; color: #721c24; }
        .api-config { background: #fff3cd; border: 1px solid #ffc107; border-radius: 8px; padding: 12px; margin-bottom: 16px; }
        .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
        .stat-card { background: #f8f9fa; border-radius: 8px; padding: 16px; text-align: center; }
        .stat-number { font-size: 2em; font-weight: 700; color: #ff9900; }
        .stat-label { font-size: 0.85em; color: #666; }
        #message { padding: 10px; border-radius: 6px; margin: 10px 0; display: none; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <div class="header">
        <div>
            <h1>üéì Student Record System</h1>
            <p>ICT 24267 Cloud Computing | ‡∏†‡∏≤‡∏Ñ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ 2/2568 | ‡∏≠.‡∏≠‡∏≥‡∏ô‡∏≤‡∏à ‡∏Ñ‡∏á‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡∏ñ‡∏¥‡πà‡∏ô</p>
        </div>
    </div>
    
    <div class="container">
        <!-- API Configuration -->
        <div class="api-config">
            ‚öôÔ∏è <strong>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ API URL:</strong>
            <input type="text" id="apiUrl" 
                   style="width:400px; margin-left:10px;"
                   placeholder="https://xxxxxxxxxx.execute-api.ap-southeast-1.amazonaws.com/prod"
                   value="">
            <button class="btn btn-primary" onclick="loadStudents()" style="margin-left:8px;">‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
        </div>

        <!-- Stats -->
        <div class="card">
            <h2>üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalStudents">-</div>
                    <div class="stat-label">‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="avgGpa">-</div>
                    <div class="stat-label">GPA ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="topGpa">-</div>
                    <div class="stat-label">GPA ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</div>
                </div>
            </div>
        </div>

        <!-- Add Student Form -->
        <div class="card">
            <h2>‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÉ‡∏´‡∏°‡πà</h2>
            <div id="message"></div>
            <div class="form-row">
                <div class="form-group">
                    <label>‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ *</label>
                    <input type="text" id="newStudentId" placeholder="‡πÄ‡∏ä‡πà‡∏ô 6401006">
                </div>
                <div class="form-group">
                    <label>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• *</label>
                    <input type="text" id="newName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="newEmail" placeholder="student@example.com">
                </div>
                <div class="form-group">
                    <label>‡∏Ñ‡∏ì‡∏∞</label>
                    <input type="text" id="newFaculty" placeholder="ICT" value="ICT">
                </div>
                <div class="form-group">
                    <label>‡∏™‡∏≤‡∏Ç‡∏≤</label>
                    <input type="text" id="newMajor" placeholder="Computer Science">
                </div>
                <div class="form-group">
                    <label>GPA</label>
                    <input type="number" id="newGpa" min="0" max="4" step="0.01" placeholder="3.50">
                </div>
            </div>
            <button class="btn btn-primary" onclick="addStudent()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</button>
        </div>

        <!-- Student List -->
        <div class="card">
            <h2>üìã ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</h2>
            <table id="studentsTable">
                <thead>
                    <tr>
                        <th>‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</th>
                        <th>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
                        <th>‡∏™‡∏≤‡∏Ç‡∏≤</th>
                        <th>GPA</th>
                        <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                    </tr>
                </thead>
                <tbody id="studentsBody">
                    <tr><td colspan="5" style="text-align:center">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ API URL ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î "‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"</td></tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        const API_URL = () => document.getElementById('apiUrl').value.replace(/\/$/, '');

        function showMessage(msg, type) {
            const el = document.getElementById('message');
            el.textContent = msg;
            el.className = type;
            el.style.display = 'block';
            setTimeout(() => el.style.display = 'none', 3000);
        }

        function getGpaBadge(gpa) {
            if (gpa >= 3.5) return `<span class="badge badge-high">${gpa}</span>`;
            if (gpa >= 2.5) return `<span class="badge badge-mid">${gpa}</span>`;
            return `<span class="badge badge-low">${gpa}</span>`;
        }

        async function loadStudents() {
            try {
                const res = await fetch(`${API_URL()}/students`);
                const data = await res.json();
                const students = data.data || [];
                
                // Update stats
                document.getElementById('totalStudents').textContent = students.length;
                if (students.length > 0) {
                    const avgGpa = students.reduce((s, st) => s + st.gpa, 0) / students.length;
                    const maxGpa = Math.max(...students.map(s => s.gpa));
                    document.getElementById('avgGpa').textContent = avgGpa.toFixed(2);
                    document.getElementById('topGpa').textContent = maxGpa.toFixed(2);
                }
                
                // Render table
                const tbody = document.getElementById('studentsBody');
                tbody.innerHTML = students.map(s => `
                    <tr>
                        <td>${s.student_id}</td>
                        <td>${s.name}</td>
                        <td>${s.major || s.faculty || '-'}</td>
                        <td>${getGpaBadge(s.gpa)}</td>
                        <td>
                            <button class="btn btn-danger" style="padding:4px 10px; font-size:0.8em"
                                onclick="deleteStudent(${s.id}, '${s.name}')">‡∏•‡∏ö</button>
                        </td>
                    </tr>
                `).join('');
                
            } catch (err) {
                showMessage('‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ API ‡πÑ‡∏î‡πâ: ' + err.message, 'error');
            }
        }

        async function addStudent() {
            const student = {
                student_id: document.getElementById('newStudentId').value,
                name: document.getElementById('newName').value,
                email: document.getElementById('newEmail').value,
                faculty: document.getElementById('newFaculty').value,
                major: document.getElementById('newMajor').value,
                gpa: parseFloat(document.getElementById('newGpa').value) || 0
            };
            
            if (!student.student_id || !student.name) {
                showMessage('‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å ‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡πÅ‡∏•‡∏∞ ‡∏ä‡∏∑‡πà‡∏≠ ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö', 'error');
                return;
            }
            
            try {
                const res = await fetch(`${API_URL()}/students`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(student)
                });
                const data = await res.json();
                
                if (data.status === 'success') {
                    showMessage('‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', 'success');
                    loadStudents();
                    ['newStudentId','newName','newEmail','newMajor','newGpa'].forEach(
                        id => document.getElementById(id).value = ''
                    );
                } else {
                    showMessage('‚ùå ' + data.message, 'error');
                }
            } catch (err) {
                showMessage('‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + err.message, 'error');
            }
        }

        async function deleteStudent(id, name) {
            if (!confirm(`‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö "${name}"?`)) return;
            
            try {
                const res = await fetch(`${API_URL()}/students/${id}`, { method: 'DELETE' });
                const data = await res.json();
                
                if (data.status === 'success') {
                    showMessage('‚úÖ ‡∏•‡∏ö‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', 'success');
                    loadStudents();
                }
            } catch (err) {
                showMessage('‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + err.message, 'error');
            }
        }
    </script>
</body>
</html>
HTMLEOF
```

```bash
# ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Nginx ‡πÉ‡∏´‡πâ serve frontend
sudo tee /etc/nginx/conf.d/default.conf << 'EOF'
server {
    listen 80;
    server_name _;

    # Frontend
    location / {
        root /var/www/html;
        index index.html;
        try_files $uri $uri/ /index.html;
    }

    # Flask API
    location /api/ {
        proxy_pass http://127.0.0.1:5000/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
EOF

sudo systemctl reload nginx
```

---

## üîß LAB 4-4: Architecture Diagram ‡πÅ‡∏•‡∏∞ Cost Estimation

### ‡∏™‡∏£‡∏∏‡∏õ Architecture ‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö

```
Internet
    ‚îÇ
    ‚îú‚îÄ‚îÄ‚îÄ Frontend (EC2 t2.micro + Nginx)
    ‚îÇ         ‚îÇ
    ‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ Flask API (Port 5000)
    ‚îÇ                   ‚îÇ
    ‚îÇ                   ‚îî‚îÄ‚îÄ‚îÄ RDS MySQL (db.t3.micro)
    ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ API Gateway (REST API)
              ‚îÇ
              ‚îú‚îÄ‚îÄ‚îÄ GET  /students     ‚Üí Lambda: ict24267-get-students
              ‚îú‚îÄ‚îÄ‚îÄ POST /students     ‚Üí Lambda: ict24267-manage-students
              ‚îú‚îÄ‚îÄ‚îÄ PUT  /students/{id}‚Üí Lambda: ict24267-manage-students
              ‚îî‚îÄ‚îÄ‚îÄ DELETE /students/{id}‚ÜíLambda: ict24267-manage-students
                              ‚îÇ
                              ‚îî‚îÄ‚îÄ‚îÄ RDS MySQL (shared with EC2 app)

CloudWatch ‚Üí Monitor EC2 + Lambda + RDS + API Gateway
SSM Parameter Store ‚Üí Store DB Credentials
IAM ‚Üí Roles and Policies
```

### Free Tier Cost Estimation (‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)

| Service | Usage | Free Tier | ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ |
|---|---|---|---|
| EC2 t2.micro | ~720 ‡∏ä‡∏°. | 750 ‡∏ä‡∏°./‡πÄ‡∏î‡∏∑‡∏≠‡∏ô | $0.00 ‚úÖ |
| RDS db.t3.micro | ~720 ‡∏ä‡∏°. | 750 ‡∏ä‡∏°./‡πÄ‡∏î‡∏∑‡∏≠‡∏ô | $0.00 ‚úÖ |
| Lambda | ~1,000 invocations | 1,000,000/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô | $0.00 ‚úÖ |
| API Gateway | ~1,000 calls | 1,000,000/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô | $0.00 ‚úÖ |
| CloudWatch | Basic monitoring | Always Free | $0.00 ‚úÖ |
| SSM Parameter Store | 4 parameters | 10,000 free | $0.00 ‚úÖ |
| Data Transfer | < 1 GB | 1 GB/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô | $0.00 ‚úÖ |
| **‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î** | | | **$0.00** |

---

## üîß LAB 4-5: Cleanup ‚Äî ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î LAB

> ‚ö†Ô∏è **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç**: ‡∏´‡∏•‡∏±‡∏á‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢

```
‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£ Cleanup:

1. API Gateway ‚Üí ‡∏•‡∏ö Stages ‚Üí ‡∏•‡∏ö API
2. Lambda ‚Üí ‡∏•‡∏ö Functions ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
3. EC2 ‚Üí Stop Instance (‡∏´‡∏£‡∏∑‡∏≠ Terminate ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß)
4. RDS ‚Üí Stop DB Instance (‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 7 ‡∏ß‡∏±‡∏ô)
   ‡∏´‡∏£‡∏∑‡∏≠ Delete DB Instance ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß (‡∏ï‡πâ‡∏≠‡∏á Create Final Snapshot)
5. Elastic IP ‚Üí ‡∏ñ‡πâ‡∏≤ Disassociate ‡πÅ‡∏•‡πâ‡∏ß ‡∏ï‡πâ‡∏≠‡∏á Release ‡∏î‡πâ‡∏ß‡∏¢
6. CloudWatch ‚Üí ‡∏•‡∏ö Alarms ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ
7. SSM Parameter Store ‚Üí ‡∏•‡∏ö Parameters
```

---

## üìù ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î Week 4

### ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏û‡∏¥‡πà‡∏° Authentication
‡πÄ‡∏û‡∏¥‡πà‡∏° API Key Authentication ‡∏ö‡∏ô API Gateway:
1. API Gateway ‚Üí API Keys ‚Üí Create API Key
2. Usage Plans ‚Üí Create Usage Plan (1000 requests/day)
3. Associate API Key ‡∏Å‡∏±‡∏ö Usage Plan
4. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API ‡∏û‡∏£‡πâ‡∏≠‡∏° Header `x-api-key: <key>`

### ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ó‡∏µ‡πà 2: CloudWatch Logs Insights
‡πÉ‡∏ô CloudWatch ‚Üí Logs Insights ‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏£‡∏±‡∏ô Query:
```
# ‡∏î‡∏π Lambda Errors
fields @timestamp, @message
| filter @message like /ERROR/
| sort @timestamp desc
| limit 20

# ‡∏î‡∏π Response Time ‡∏Ç‡∏≠‡∏á Lambda
fields @timestamp, @duration
| filter @type = "REPORT"
| stats avg(@duration), max(@duration) by bin(5m)
```

### ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏¢‡∏ö‡∏ó Week 4

1. **Architecture Decision**: ‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á EC2+Flask ‡πÅ‡∏•‡∏∞ Lambda+API Gateway ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ô ‡πÉ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° Production ‡∏à‡∏£‡∏¥‡∏á ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÉ‡∏î ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏´‡∏ï‡∏∏‡πÉ‡∏î?

2. **Security Layers**: ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ Defense in Depth ‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏°‡∏≤‡∏ï‡∏•‡∏≠‡∏î 4 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå ‡∏°‡∏µ‡∏Å‡∏µ‡πà Layer ‡πÅ‡∏•‡∏∞‡πÅ‡∏ï‡πà‡∏•‡∏∞ Layer ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏≠‡∏∞‡πÑ‡∏£?

3. **Scalability**: ‡∏ñ‡πâ‡∏≤‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å 10 ‡∏Ñ‡∏ô‡πÄ‡∏õ‡πá‡∏ô 10,000 ‡∏Ñ‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô ‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏´‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô Bottleneck ‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡∏∞‡∏à‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?

4. **Disaster Recovery**: ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ RTO (Recovery Time Objective) ‡πÅ‡∏•‡∏∞ RPO (Recovery Point Objective) ‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ ‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡πÉ‡∏´‡πâ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô?

5. **Cost Optimization**: ‡∏ô‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Free Tier ‡πÅ‡∏•‡πâ‡∏ß ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏à‡∏£‡∏¥‡∏á ‡∏°‡∏µ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏î‡∏ö‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ AWS ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ?

---

# üìö ‡∏†‡∏≤‡∏Ñ‡∏ú‡∏ô‡∏ß‡∏Å

## A. ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á AWS CLI ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢

```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö EC2 Instances
aws ec2 describe-instances --query 'Reservations[*].Instances[*].[InstanceId,State.Name,PublicIpAddress]' --output table

# ‡∏î‡∏π RDS Instances
aws rds describe-db-instances --query 'DBInstances[*].[DBInstanceIdentifier,DBInstanceStatus,Endpoint.Address]' --output table

# ‡∏î‡∏π Lambda Functions
aws lambda list-functions --query 'Functions[*].[FunctionName,Runtime,LastModified]' --output table

# ‡∏î‡∏π API Gateway
aws apigateway get-rest-apis --query 'items[*].[id,name]' --output table

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
aws ce get-cost-and-usage \
    --time-period Start=$(date -d '1 month ago' +%Y-%m-01),End=$(date +%Y-%m-%d) \
    --granularity MONTHLY \
    --metrics BlendedCost \
    --output table
```

## B. ‡∏™‡∏£‡∏∏‡∏õ Free Tier Checklist

```
‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏° LAB ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á:
[ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö AWS Billing Dashboard
[ ] ‡∏°‡∏µ Budget Alert ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß
[ ] ‡πÉ‡∏ä‡πâ ap-southeast-1 ‡∏´‡∏£‡∏∑‡∏≠ us-east-1 ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á LAB:
[ ] EC2: ‡πÉ‡∏ä‡πâ t2.micro ‡∏´‡∏£‡∏∑‡∏≠ t3.micro ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
[ ] RDS: ‡πÉ‡∏ä‡πâ db.t3.micro, Single-AZ, 20GB ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
[ ] ‡πÑ‡∏°‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á NAT Gateway (‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢!)
[ ] ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ Application/Network Load Balancer (‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢!)

‡∏´‡∏•‡∏±‡∏á LAB ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á:
[ ] Stop ‡∏´‡∏£‡∏∑‡∏≠ Terminate EC2 Instances
[ ] Stop ‡∏´‡∏£‡∏∑‡∏≠ Delete RDS Instances
[ ] Release Elastic IPs ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ
[ ] ‡∏•‡∏ö Lambda Functions ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
[ ] ‡∏•‡∏ö API Gateway Stages ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ
[ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Billing ‡∏ã‡πâ‡∏≥
```

## C. Resources ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

| ‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ | URL |
|---|---|
| AWS Free Tier Details | https://aws.amazon.com/free/ |
| AWS Documentation | https://docs.aws.amazon.com/ |
| AWS Lambda Developer Guide | https://docs.aws.amazon.com/lambda/latest/dg/ |
| AWS RDS User Guide | https://docs.aws.amazon.com/rds/ |
| AWS API Gateway Guide | https://docs.aws.amazon.com/apigateway/ |
| AWS Well-Architected Framework | https://aws.amazon.com/architecture/well-architected/ |
| AWS Skill Builder (Free Courses) | https://skillbuilder.aws/ |
| AWS Training & Certification | https://aws.amazon.com/training/ |

---

*‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠ LAB ‡∏ô‡∏µ‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö**‡∏ß‡∏¥‡∏ä‡∏≤ ICT 24267 Cloud Computing** ‡∏†‡∏≤‡∏Ñ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ 2/2568*  
*‡∏ú‡∏π‡πâ‡∏™‡∏≠‡∏ô: ‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏≠‡∏≥‡∏ô‡∏≤‡∏à ‡∏Ñ‡∏á‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡∏ñ‡∏¥‡πà‡∏ô*  
*‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ï‡∏≤‡∏° AWS Free Tier 2026*
